<mvc:View 
    xmlns:odata="sap.ui.comp.odata"
    controllerName="operations.controller.Transfer"
    xmlns:rowmodes="sap.ui.table.rowmodes"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:ui="sap.ui.table"
>
    <Page
    busyIndicatorDelay="500">
        <content>
            <HBox
                class="sapUiSmallMargin"
                alignItems="Center"
            >
                <Label
                    text="Trade Number"
                    class="sapUiSmallMarginEnd"
                />
              <ComboBox
                    id="topTradeNumberCombo"
                    selectedKey="{appModel>/TrdNum}"
                    items="{
                        path: 's4HanaModel>/ZTA_TRADE_ENTRYSet',
                        filters: [
                            {
                                path: 'TrdNumP',
                                operator: 'EQ',
                                value1: ''
                            }
                        ],
                        sorter: {path: 'TrdNum'}
                    }"
                    change="onchangetradeno"
                    selectionChange="onchangetradeno"
                    width="200px"
                >
                    <core:Item
                        key="{s4HanaModel>TrdNum}"
                        text="{s4HanaModel>TrdNum}"
                    />
                </ComboBox>
     <Toolbar design="Transparent">
      <ToolbarSpacer />
    <Button 
        id="editBtn"
        width="75px"
        text="Edit"
        icon="sap-icon://edit"
        press=".onEditPress"
        type="Emphasized"
    />
    <Button 
        id="saveBtn"
        width="75px"
        text="Save"
        icon="sap-icon://save"
        press=".onPressSave"
        type="Accept"
    />
</Toolbar>
            </HBox>

            <!-- ===== START: Top Trade Details Table (bound to appModel TradeDetails as object property binding) ===== -->
            <ui:Table
                id="transferTableId"
                rows="{path:'appModel>/TradeDetails'}"
                selectionMode="Single"
            >
                <ui:rowMode>
                    <rowmodes:Fixed rowCount="1"/>
                </ui:rowMode>
                <ui:columns>
                    <ui:Column width="10rem">
                        <Label text="Trade Date" />
                        <ui:template>
                            <DatePicker value="{appModel>TrdExedt}"  enabled="false"/>
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="10rem">
                        <Label text="Trader" />
                        <ui:template>
                            <VBox>
                                <!-- <Text text="Key: {appModel>TrdTrdr}" class="sapUiTinyMarginBottom"/> -->
                                <ComboBox
                                    width="100%"
                                    selectedKey="{appModel>TrdTrdr}"
                                    items="{path: 's4HanaModel>/ZTA_TRADERSet', sorter: {path: 's4HanaModel>TrdTrdrD'}}"
                                    enabled="false"
                                >
                                    <core:Item
                                        key="{s4HanaModel>TrdTrdr}"
                                        text="{s4HanaModel>TrdTrdrD}"
                                    />
                                </ComboBox>
                            </VBox>

                        </ui:template>
                    </ui:Column>
                    <ui:Column width="10rem">
                        <Label text="Grade" />
                        <ui:template>
                              <ComboBox
                                width="100%"
                                selectedKey="{appModel>TrdCmdty}"
                                items="{path: 's4HanaModel>/ZTA_COMMODTYSet', sorter: {path: 's4HanaModel>Maktx'}}"
                                enabled="false"
                            >
                                <core:Item
                                    key="{s4HanaModel>TrdCmdty}"
                                    text="{s4HanaModel>Maktx}"
                                />
                            </ComboBox>
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="12rem">
                        <Label text="Counterparty" />
                        <ui:template>
                            <Select
                                enabled="false"
                                width="100%"
                                selectedKey="{appModel>TrdCnpty}"
                                items="{path: 's4HanaModel>/ZTA_CNTRPRTYSet', sorter: {path: 's4HanaModel>Name1'}}"
                            >
                                <core:Item
                                    key="{s4HanaModel>TrdCnpty}"
                                    text="{s4HanaModel>Name1}"
                                />
                            </Select>
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="12rem">
                        <Label text="Load Port" />
                        <ui:template>
                            <ComboBox width="100%"
                             selectedKey="{appModel>TrdLdprt}"
                             enabled="false"
                             items="{path: 's4HanaModel>/ZTA_LOAD_PORTSet', sorter: {path: 's4HanaModel>TrdLdprtD'}}">
                                <core:Item
                                    key="{s4HanaModel>TrdLdprt}"
                                    text="{s4HanaModel>TrdLdprtD}"
                                />
                            </ComboBox>
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="12rem">
                        <Label text="Window Start Date" />
                        <ui:template>
                            <DatePicker value="{appModel>TrdWsdt}" enabled="{appModel>/IsEditable}" />
                            
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="15rem">
                        <Label text="Window End Date" />
                        <ui:template>
                            <DatePicker value="{appModel>TrdWedt}" enabled="{appModel>/IsEditable}" />

                        </ui:template>
                    </ui:Column>

                    <ui:Column width="15rem">
                        <Label text="Incoterm" />
                        <ui:template>
                            <Select width="100%"
                             selectedKey="{appModel>TrdDlvtrm}"
                             enabled="false"
                             items="{path: 's4HanaModel>/ZTA_DLV_TRMSSet', sorter: {path: 's4HanaModel>TrdDlvtrmD'}}">
                                <core:Item
                                    key="{s4HanaModel>TrdDlvtrm}"
                                    text="{s4HanaModel>TrdDlvtrmD}"
                                />
                            </Select>
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="12rem">
                        <Label text="Trade Quantity" />
                         <ui:template>
                            <Text
                                text="{appModel>TrdQty}" enabled="{appModel>/IsEditable}"
                            />
                        </ui:template>
                    </ui:Column>

                    <ui:Column width="10rem">
                        <Label text="Discharge Port" />
                        <ui:template>
                            <ComboBox width="100%"
                             selectedKey="{appModel>TrdDsprt}"
                             enabled="false"
                             items="{path: 's4HanaModel>/ZTA_DSCH_PORTSet', sorter: {path: 's4HanaModel>TrdDsprtD'}}">
                                <core:Item
                                    key="{s4HanaModel>TrdDsprt}"
                                    text="{s4HanaModel>TrdDsprtD}"
                                />
                            </ComboBox>
                        </ui:template>
                    </ui:Column>
                </ui:columns>
            </ui:Table>
            <!-- ===== END: Top Trade Details Table ===== -->

               <Panel
                    expandable="true"
                    expanded="true"
                    headerText="Cost"
                    width="auto"
                    class="sapUiMediumMarginTop"
                >
                    <ui:Table
                                id="costTableId"
                                rows="{
                                    path: 'costModel>/'
                                }"
                                selectionMode="Multi"
                                selectionBehavior="Row"
                                rowSelectionChange=".onRowSelectionChange"
                                enableColumnReordering="false"
                            >
                                <!-- Header Toolbar -->
                                <ui:extension>
                                    <OverflowToolbar>
                                        <content>
                                            <ToolbarSpacer />
                                            <Button
                                                id="toggleAddBtn"
                                                text="Add"
                                                icon="sap-icon://add"
                                                press=".onToggleAdd"
                                            />

                                            <Button
                                                id="toggleSaveBtn"
                                                text="Save"
                                                icon="sap-icon://save"
                                                press=".onToggleSave"
                                                enabled="false"
                                                visible="{appModel>/IsCOSTSaveActive}"
                                            />

                                            <Button
                                                id="toggleEditBtn"
                                                text="Edit"
                                                icon="sap-icon://edit"
                                                press=".onToggleEdit"
                                                enabled="{appModel>/IsCOSTSelectionActive}"
                                            />
                                            <Button
                                                id="toggleDeleteBtn"
                                                text="Delete"
                                                enabled="{appModel>/IsCOSTSelectionActive}"
                                                icon="sap-icon://delete"
                                                press=".onToggleDel"
                                            />
                                        </content>
                                    </OverflowToolbar>
                                </ui:extension>

                                <!-- Columns -->
                                <ui:columns>
                                    <!-- Cost Type (editable ComboBox) -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>COST_TYPE}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstType}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path: 's4HanaModel>/ZTA_CST_TYPESet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CstType}"
                                                    text="{s4HanaModel>CstTypeD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>
                                    
                                    <!-- Cost Status -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>COST_STATUS}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstEstfn}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path: 's4HanaModel>/ZTA_CST_ESTFINSet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CstEstfn}"
                                                    text="{s4HanaModel>CstEstfnD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Price Type (editable ComboBox) -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>PRICE_TYPE}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstPrctyp}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path: 's4HanaModel>/ZTA_PRC_TYPESet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CstPrctyp}"
                                                    text="{s4HanaModel>CstPrctypD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Expense Currency -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>EXPENSE_CURR}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstExpcur}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path : 's4HanaModel>/ZTA_CURRENCYSet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CurrencyId}"
                                                    text="{s4HanaModel>CurrencyD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Settlement Currency -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>SETTLEMENT_CURR}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstStcur}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path : 's4HanaModel>/ZTA_CURRENCYSet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CurrencyId}"
                                                    text="{s4HanaModel>CurrencyD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Exchange Rate -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>EXCHNG_RATE}" />
                                        <ui:template>
                                            <Input 
                                                value="{costModel>CstExrt}"
                                                enabled="{costModel>isRowEditable}" />
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Payment Due  -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>PAYMENT_DUE}" />
                                        <ui:template>
                                            <DatePicker
                                                value="{path: 'costModel>CstPaydt', formatter: '.formatter.formatDate'}"
                                                displayFormat="dd-MM-yyyy"
                                                valueFormat="yyyy-MM-dd"
                                                enabled="{costModel>isRowEditable}"
                                            />
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Company -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>COMPANY}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey="{costModel>CstComp}"
                                                enabled="{costModel>isRowEditable}"
                                                items="{ path : 's4HanaModel>/ZTA_CST_VENDSet' }"
                                            >
                                                <core:Item
                                                    key="{s4HanaModel>CstComp}"
                                                    text="{s4HanaModel>CstCompD}"
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>

                                    <!-- Payment -->
                                    <ui:Column width="12rem">
                                        <Label text="{i18n>PRICING_FORMULA}" />
                                        <ui:template>
                                            <ComboBox
                                                selectedKey=""
                                                enabled="{costModel>isRowEditable}"
                                                items=""
                                            >
                                                <core:Item
                                                    key=""
                                                    text=""
                                                />
                                            </ComboBox>
                                        </ui:template>
                                    </ui:Column>
                                </ui:columns>
                            </ui:Table>
                </Panel>
                <Panel          
                                headerText="Purchase Order Input"
                                expandable="true"
                                expanded="true"
                                class="sapUiMediumMarginTop"
                            >
                                <f:SimpleForm
                                    id="SimpleFormForPriceDetailsTabPaper"
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="2"
                                    columnsL="2"
                                    columnsM="4"
                                >
                             <f:content>
    <core:Title text="Discharge Ports" />

    <!-- Dynamic Discharge Port Sections -->
    <VBox id="dischargePortsVBox" items="{appModel>/DischargePorts}" class="sapUiSmallMargin">
    <items>
        <!-- Template for each discharge port -->
        <VBox class="sapUiSmallMarginBottom" width="100%" templateShareable="false">
            
            <!-- Quantity in BBL -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Quantity in BBL'}"
                       width="18rem" />
                <Input id="discPortDp1" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Qtybbl} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Qtybbl} : ${appModel>/TradeDetails/0/Dp3Qtybbl})}"
                       width="10rem"
                      enabled="{appModel>/IsEditable}"
                       class="sapUiSmallMarginEnd"/>
                <Button icon="sap-icon://delete" type="Reject" press=".onRemoveDischargePort" tooltip="Remove this Discharge Port" />
            </HBox>

            <!-- Quantity in MT -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Quantity in MT'}" width="18rem"/>
                <Input id="discPortQtMt2" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Qtymt} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Qtymt} : ${appModel>/TradeDetails/0/Dp3Qtymt})}"
                       width="10rem"
                       enabled="{appModel>/IsEditable}"
                       class="sapUiSmallMarginEnd"/>
            </HBox>

            <!-- Temperature -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Temperature in Deg C'}" width="18rem"/>
                <Input id="discPortTmp" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Tmp} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Tmp} : ${appModel>/TradeDetails/0/Dp3Tmp})}" width="10rem" enabled="{appModel>/IsEditable}" />
                <!-- <Label text="Deg C" width="4rem"/> -->
            </HBox>

            <!-- API -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' API'}" width="18rem"/>
                <Input id="discPortApi" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Api} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Api} : ${appModel>/TradeDetails/0/Dp3Api})}" width="10rem" enabled="{appModel>/IsEditable}" class="sapUiSmallMarginEnd" />
            </HBox>

            <!-- Transfer Date -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Transfer Date'}" width="18rem"/>
                <DatePicker id="discPortTrndt" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Trndt} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Trndt} : ${appModel>/TradeDetails/0/Dp3Trndt})}" width="10rem" enabled="{appModel>/IsEditable}" />
            </HBox>

            <!-- Miscellaneous / Other -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Miscellaneous / Other'}" width="18rem"/>
                <Input id="discPortMsc" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Msc} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Msc} : ${appModel>/TradeDetails/0/Dp3Msc})}" width="10rem" enabled="{appModel>/IsEditable}" class="sapUiSmallMarginEnd" />
                <ComboBox id="discPortMscuom" selectedKey="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/Dp1Mscuom} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/Dp2Mscuom} : ${appModel>/TradeDetails/0/Dp3Mscuom})}" enabled="{appModel>/IsEditable}" items="{ path: 's4HanaModel>/ZTA_CURRENCYSet', sorter: { path: 's4HanaModel>CurrencyD' } }">
                    <core:Item key="{s4HanaModel>CurrencyId}" text="{s4HanaModel>CurrencyD}" />
                </ComboBox>
            </HBox>
           

        </VBox>
    </items>
</VBox>



</f:content>



                                </f:SimpleForm>
                                <HBox class="sapUiSmallMarginTop" justifyContent="Start">
    <Button
        text="Add Another Discharge Port"
        icon="sap-icon://add"
        type="Emphasized"
        press=".onAddDischargePort"
        class="sapUiTinyMarginEnd"
    />
     <Button
        text="Execute"
        icon="sap-icon://save"
        type="Emphasized"
        press=".onExecutePOCreation"
        class="sapUiTinyMarginEnd"
    />
      <Button
        text="Submit"
        icon="sap-icon://accept"
        type="Emphasized"
        press=".onSubmitPOCreation"
        class="sapUiTinyMarginEnd"
    />
</HBox>
                            </Panel>

                             
                 <Panel
                                headerText="GRN STO Input"
                                expandable="true"
                                expanded="true"
                                class="sapUiMediumMarginTop"
                            >
                                <f:SimpleForm
                                    id="SimpleFormForPriceDetailsTabPaper6"
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="2"
                                    columnsL="2"
                                    columnsM="4"
                                >
                             <f:content>
    <core:Title text="Discharge Ports" />

    <!-- Dynamic Discharge Port Sections for GRN STO -->
    <VBox id="dischargePortsVBoxGRN" items="{appModel>/DischargePorts}" class="sapUiSmallMargin">
    <items>
        <!-- Template for each discharge port -->
        <VBox class="sapUiSmallMarginBottom" width="100%" templateShareable="false">

            <!-- Quantity in BBL -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Quantity in BBL'}"
                       width="18rem" />
                <Input id="discPortDp1GRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Qtybbl} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Qtybbl} : ${appModel>/TradeDetails/0/GrDp3Qtybbl})}"
                       width="10rem"
                       enabled="{appModel>/IsEditable}"
                       class="sapUiSmallMarginEnd"/>
                <Button icon="sap-icon://delete" type="Reject" press=".onRemoveDischargePortGRN" tooltip="Remove this Discharge Port" />
            </HBox>

            <!-- Quantity in MT -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Quantity in MT'}" width="18rem"/>
                <Input id="discPortQtMt2GRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Qtymt} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Qtymt} : ${appModel>/TradeDetails/0/GrDp3Qtymt})}"
                       width="10rem"
                      enabled="{appModel>/IsEditable}"
                       class="sapUiSmallMarginEnd"/>
            </HBox>

            <!-- Temperature -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Temperature in Deg C'}" width="18rem"/>
                <Input id="discPortTmpGRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Tmp} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Tmp} : ${appModel>/TradeDetails/0/GrDp3Tmp})}" width="10rem" enabled="{appModel>/IsEditable}" />
                <!-- <Label text="Deg C" width="4rem"/> -->
            </HBox>

            <!-- API -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' API'}" width="18rem"/>
                <Input id="discPortApiGRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Api} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Api} : ${appModel>/TradeDetails/0/GrDp3Api})}" width="10rem" enabled="{appModel>/IsEditable}" class="sapUiSmallMarginEnd" />
            </HBox>

            <!-- Transfer Date -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Transfer Date'}" width="18rem"/>
                <DatePicker id="discPortTrndtGRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Trndt} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Trndt} : ${appModel>/TradeDetails/0/GrDp3Trndt})}" width="10rem" enabled="{appModel>/IsEditable}" />
            </HBox>

            <!-- Miscellaneous / Other -->
            <HBox  class="sapUiSmallMarginBottom">
                <Label text="{= 'Discharge Port ' + ${appModel>PortNo} + ' Miscellaneous / Other'}" width="18rem"/>
                <Input id="discPortMscGRN" value="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Msc} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Msc} : ${appModel>/TradeDetails/0/GrDp3Msc})}" width="10rem" enabled="{appModel>/IsEditable}" class="sapUiSmallMarginEnd" />
                <ComboBox id="discPortMscuomGRN" selectedKey="{= ${appModel>PortNo} === 1 ? ${appModel>/TradeDetails/0/GrDp1Mscuom} : (${appModel>PortNo} === 2 ? ${appModel>/TradeDetails/0/GrDp2Mscuom} : ${appModel>/TradeDetails/0/GrDp3Mscuom})}" enabled="{appModel>/IsEditable}" items="{ path: 's4HanaModel>/ZTA_CURRENCYSet', sorter: { path: 's4HanaModel>CurrencyD' } }">
                    <core:Item key="{s4HanaModel>CurrencyId}" text="{s4HanaModel>CurrencyD}" />
                </ComboBox>
            </HBox>


        </VBox>
    </items>
</VBox>



</f:content>



                                </f:SimpleForm>
                                <HBox class="sapUiSmallMarginTop" justifyContent="Start">
    <Button
        text="Add Another Discharge Port"
        icon="sap-icon://add"
        type="Emphasized"
        press=".onAddDischargePortGRN"
        class="sapUiTinyMarginEnd"
    />
     <Button
        text="Execute"
        icon="sap-icon://save"
        type="Emphasized"
        press=".onExecuteGRNCreation"
        class="sapUiTinyMarginEnd"
    />
      <Button
        text="Submit"
        icon="sap-icon://accept"
        type="Emphasized"
        press=".onSubmitGRNCreation"
        class="sapUiTinyMarginEnd"
    />
</HBox>
                            </Panel>
                            
                            
        </content>
    </Page>
</mvc:View>
